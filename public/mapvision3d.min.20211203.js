const _0x2322=['FindObjectByPrefix','packetsLost','LayersLoad','NorthControl','candidate','onkeypress','GetFloorRoomVisible','requestVideoFrameCallback','dataChannelOptions','enableKeyboard','hostname','FlyToObject','ReceiptTimeMs','FifthButton','->\x20SS:\x20FreezeFrame:\x0a','KeyDown','prototype','_emitDescriptor','amd','FindObjectById','webSocket\x20connenect\x20error','getReceivers','websocket\x20closed','setUint8','GetSelectedObject','onVideoInitialised','framesReceived','onmousemove',')\x20closed','MouseLeave','muted','slice','_registerTouchEvents','SecondaryButton','Open','GetFloorDeviceNum','Parameter\x20ERROR','FlyToPosition','GetFloorName','protocol','SetFloorRoomVisible','latencyTestTimings','audio','WS_OPEN_STATE','async','OverLayerStopEdit','frameWidth','invalid\x20SS\x20message\x20type:\x20','Microsoft.XMLHTTP','expectedDisplayTime','videoWidth','onDataChannelMessage','url','ice\x20connection\x20state\x20change:','GetFloorDeviceNames','offerExtmapAllowMixed','length','charCode','_onMouseMove','UpdateObjectVisibleByPrefix','WebSocket','GetBuildingNames','replace','RightControl','UEPostEncodeTimeMs','visible','distance','sendrecv','LayerLoad','MouseButtonsMask','movementX','GetFloorNum','receiveAnswer','UEPostCaptureTimeMs','playerCount','hidden','log','ws://','_onWebRtcIce','onWebRtcOffer','keyCode','isRemote','type','MessageType','_unregisterEvents','SetMousePositionCallback','mediaDevices','POST','http:','SetBitrate','SetResolution','\x20_webSocket\x20closed\x20','MouseWheel','SplitFloorReset','Couldn\x27t\x20create\x20offer','port','roll','_normalizeAndQuantizeSigned','GetDownFloorNames','aggregatedStats','OverLayerCreateObjects','kind','LayerRemove','visibility','SELECTE','BackSpace','receiveToCompositeMs','SetBuildingWkVisible','setUint16','useMic','BrowserReceiptTimeMs','GetBuildingVisible','ShiftRight','ActiveXObject','UnfreezeFrame','position','getStats','pitch','bytesReceived','frameHeightStart','timestamp','FindObjectByName','aimapvision3d\x20server\x20is\x20not\x20started.','onmousedown','->\x20SS:\x20iceCandidate\x0a','GetObjectsVisible','MapStatusType','_registerCallback','onicegatheringstatechange','Events','CommandType','dcClient','enableMouse','Alt','GetDownFloorNum','webRtcPlayer','floors','Created\x20datachannel\x20(','highlight','AltRight','RegisterEvent','_normalizeAndQuantizeUnsigned','_connectWebsocket','GetUpFloorNum','onmouseup','repeat','close','utf-16','reason','PrimaryButton','PlayRoute','UETransmissionTimeMs','highBitrate','_createWebRtcPlayer','_pressMouseButtons','UnRegisterEvent','addTransceiver','floor','preventDefault','Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function','SetObjectsHighlight','createDataChannel','Point','_requestQualityControl','framerate','_sendInputData','->\x20SS:\x20UnfreezeFrame:\x0a','playoutDelayHint','GetBuildingName','track','signaling\x20state\x20change:','StopSequence','get','push','GetFloorDeviceName','_onMouseWheel','./adapter','charCodeAt','style','Command','SetParameters','readyState','Position','_requestInitialSettings','http://','SplitBuildingReset','_onMouseUpCallback','OverLayerRemoveObjects','_onMouseSelectedObj','OverLayerStartEdit','PauseSequence','toUpperCase','this._webSocket\x20error:\x20','receiveTime','currentRoundTripTime','framesDecodedStart','clientWidth','framesDecoded','Clear','getElementsByTagName','getElementById','SetGroundVisible','button','config','OpenMap','_onMouseMoveCallback','UpdateObject','cfg','pcClient','error','Reset','data\x20channel\x20(','GetFloorVisible','&token=','GetUpFloorNames','error\x20_webRtcPlayerObj\x20is\x20null','GetFloorRoomNames','_emiUICommand','frameHeight','getTracks','releaseMouseButtons','_callback','stringify','WS\x20closed:\x20','bitrate','handleCandidateFromServer','disablepictureinpicture','Response','_command','_mouseDownStatus','LayerSelectObject','GetCurrentPosition','clientHeight','SetBuildingVisible','ClearHighlight','OverLayerSelectObjectEdit','_webRtcPlayerObj','FrameDisplayDeltaTimeMs','UEPreEncodeTimeMs','XMLHttpRequest','createOffer','sdp','data','Label','PostEncodeTimeMs','frameWidthStart','OverLayerFindObject','PreEncodeTimeMs','IsPausedSequence','AuxiliaryButton','iceCandidate','ResumeRoute','label','aggregateStatsIntervalId','DOMMouseScroll','ctrlKey','highFramerate','_onMouseDownCallback','indexOf','No\x20data\x20channel','Rotate','TestStartTimeMs','exports','MozWebSocket','GET','->\x20SS:\x20Command:\x0a','createElement','PlaySequence','toLowerCase','Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.','SplitDynamicFloor','CreateObject','projectId','bytesReceivedStart','lowFramerate','FlyToObjectById','offsetX','UEPreCaptureTimeMs','addEventListener','onMouse','decode','/aimapvision3d','Control','recvonly','buttons','onkeydown','videoHeight','_unquantizeAndDenormalizeUnsigned','View3d','offsetY','wheelDelta','MouseMove','Polygon','_onMouseDown','gid','ICE\x20candidate','StopRoute','SetFloorDeviceVisible','SetMapStatus','setInt16','_webRtcPlayerHtmlElement','UpdateObjectStyle','video_label','code','SplitBuilding','onmousewheel','SetPosition','OverLayerRemoveAll','onopen','ICE\x20candidate\x20successfully\x20added','onWebRtcCandidate','UEReceiptTimeMs','onclose','application/x-www-form-urlencoded','video','SetNorthControl','LayerReLoad','Bad\x20Request','SetObjectsVisible','info','addIceCandidate','ClearObjectStyle','_releaseMouseButtons','lowBitrate','MouseButton','avgframerate','IsPlayingSequence','_onMouseUp','aggregateStats','onAggregatedStats','ResetAllBuildings','ToClientMessageType','_webSocket','token','onDataChannelConnected','name','StreamVideoClose','Model3D','ontrack','tnClient','GetFloorNames','binaryType','ResetHome','send','UIInteraction','MainButton','FourthButton','showlocation','loadedmetadata','srcObject','/project3d/getInfo?id=','CreateRoute','search','then','SetMouseCallback','removeChild','SetObjectsHighlightByPrefix','parse','OverLayerRemoveObjectsById','PreCaptureTimeMs','buffer','GetFloorRoomNum','IsClose','framesDropped','timestampStart','_callbackMouse'];const _0x52c8=function(_0x232251,_0x52c8ac){_0x232251=_0x232251-0x0;let _0x4982e8=_0x2322[_0x232251];return _0x4982e8;};(function(_0x36a580,_0x15cf0d){if(typeof define==='function'&&define[_0x52c8('0x12')]){define([_0x52c8('0xb0')],_0x15cf0d);}else if(typeof exports==='object'){module[_0x52c8('0x106')]=_0x15cf0d(require('./adapter'));}else{_0x36a580[_0x52c8('0x87')]=_0x15cf0d(_0x36a580['adapter']);}}(this,function(_0x53dec3){function _0x2f23d3(_0x22f479){_0x22f479=_0x22f479||{};var _0x427b84=this;this['cfg']=_0x22f479['peerConnectionOptions']||{};this[_0x52c8('0xcf')]['sdpSemantics']='unified-plan';this[_0x52c8('0xcf')][_0x52c8('0x37')]=![];this['pcClient']=null;this['dcClient']=null;this[_0x52c8('0x153')]=null;this['sdpConstraints']={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1,'voiceActivityDetection':![]};this['dataChannelOptions']={'ordered':!![]};const _0x272350=new URLSearchParams(window['location'][_0x52c8('0x160')]);this[_0x52c8('0x6d')]=_0x272350['has'](_0x52c8('0x6d'));if(!this['useMic']){console[_0x52c8('0x4c')]('Microphone\x20access\x20is\x20not\x20enabled.\x20Pass\x20?useMic\x20in\x20the\x20url\x20to\x20enable\x20it.');}let _0x285eaa=location['hostname']==='localhost'||location[_0x52c8('0xa')]==='127.0.0.1';let _0x37f73a=location[_0x52c8('0x27')]==='https:';if(this[_0x52c8('0x6d')]&&!_0x285eaa&&!_0x37f73a){this['useMic']=![];console[_0x52c8('0xd1')]('Microphone\x20access\x20in\x20the\x20browser\x20will\x20not\x20work\x20if\x20you\x20are\x20not\x20on\x20HTTPS\x20or\x20localhost.\x20Disabling\x20mic\x20access.');console[_0x52c8('0xd1')]('For\x20testing\x20you\x20can\x20enable\x20HTTP\x20microphone\x20access\x20Chrome\x20by\x20visiting\x20chrome://flags/\x20and\x20enabling\x20\x27unsafely-treat-insecure-origin-as-secure\x27');}this[_0x52c8('0x29')]={'TestStartTimeMs':null,'UEReceiptTimeMs':null,'UEPreCaptureTimeMs':null,'UEPostCaptureTimeMs':null,'UEPreEncodeTimeMs':null,'UEPostEncodeTimeMs':null,'UETransmissionTimeMs':null,'BrowserReceiptTimeMs':null,'FrameDisplayDeltaTimeMs':null,'Reset':function(){this[_0x52c8('0x105')]=null;this[_0x52c8('0x137')]=null;this['UEPreCaptureTimeMs']=null;this['UEPostCaptureTimeMs']=null;this[_0x52c8('0xee')]=null;this['UEPostEncodeTimeMs']=null;this['UETransmissionTimeMs']=null;this[_0x52c8('0x6e')]=null;this[_0x52c8('0xed')]=null;},'SetUETimings':function(_0x243f8a){this[_0x52c8('0x137')]=_0x243f8a[_0x52c8('0xc')];this[_0x52c8('0x115')]=_0x243f8a[_0x52c8('0x167')];this[_0x52c8('0x49')]=_0x243f8a['PostCaptureTimeMs'];this[_0x52c8('0xee')]=_0x243f8a[_0x52c8('0xf7')];this[_0x52c8('0x40')]=_0x243f8a[_0x52c8('0xf4')];this[_0x52c8('0x97')]=_0x243f8a['TransmissionTimeMs'];this[_0x52c8('0x6e')]=Date['now']();this['OnAllLatencyTimingsReady'](this);},'SetFrameDisplayDeltaTime':function(_0x114d1e){if(this['FrameDisplayDeltaTimeMs']==null){this[_0x52c8('0xed')]=Math['round'](_0x114d1e);this['OnAllLatencyTimingsReady'](this);}},'OnAllLatencyTimingsReady':function(_0x21ce68){}};createWebRtcVideo=function(){var _0x2c7814=document[_0x52c8('0x10a')](_0x52c8('0x13a'));_0x2c7814['id']='streamingVideo';_0x2c7814['playsInline']=!![];_0x2c7814[_0x52c8('0xe2')]=!![];_0x2c7814[_0x52c8('0x1e')]=![];_0x2c7814[_0x52c8('0x116')](_0x52c8('0x15c'),function(_0x274103){if(_0x427b84[_0x52c8('0x19')]){_0x427b84[_0x52c8('0x19')]();}},!![]);if('requestVideoFrameCallback'in HTMLVideoElement['prototype']){const _0x3de386=(_0xba62a0,_0x11c66f)=>{if(_0x11c66f[_0x52c8('0xc1')]&&_0x11c66f[_0x52c8('0x31')]){const _0x1df3f8=_0x11c66f['presentationTime']-_0x11c66f[_0x52c8('0xc1')];_0x427b84[_0x52c8('0x63')]['receiveToCompositeMs']=_0x1df3f8;}_0x2c7814[_0x52c8('0x7')](_0x3de386);};_0x2c7814[_0x52c8('0x7')](_0x3de386);}return _0x2c7814;};this['video']=createWebRtcVideo();onsignalingstatechange=function(_0x536a78){console[_0x52c8('0x13f')](_0x52c8('0xaa'),_0x536a78);};oniceconnectionstatechange=function(_0x9b6597){console[_0x52c8('0x13f')](_0x52c8('0x35'),_0x9b6597);};onicegatheringstatechange=function(_0x513b22){console[_0x52c8('0x13f')]('ice\x20gathering\x20state\x20change:',_0x513b22);};handleOnTrack=function(_0x2c6508){if(_0x2c6508[_0x52c8('0xa9')]){}if(_0x2c6508['track'][_0x52c8('0x65')]==_0x52c8('0x2a')){handleOnAudioTrack(_0x2c6508['streams'][0x0]);return;}else _0x2c6508[_0x52c8('0xa9')]['kind']==_0x52c8('0x13a')&&_0x427b84['video'][_0x52c8('0x15d')]!==_0x2c6508['streams'][0x0];{_0x427b84['video']['srcObject']=_0x2c6508['streams'][0x0];return;}};handleOnAudioTrack=function(_0x5a726b){if(_0x427b84[_0x52c8('0x13a')]['srcObject']==_0x5a726b){return;}else if(_0x427b84['video'][_0x52c8('0x15d')]&&_0x427b84['video'][_0x52c8('0x15d')]!==_0x5a726b){let _0x1dfdf8=document[_0x52c8('0x10a')]('Audio');_0x1dfdf8['autoplay']=!![];_0x1dfdf8[_0x52c8('0x15d')]=_0x5a726b;_0x1dfdf8['play']();console['log']('Created\x20new\x20audio\x20element\x20to\x20play\x20seperate\x20audio\x20stream.');}};setupDataChannel=function(_0x53c5a2,_0x4df516,_0x4cbf03){try{let _0x4aa78d=_0x53c5a2[_0x52c8('0xa1')](_0x4df516,_0x4cbf03);console[_0x52c8('0x4c')](_0x52c8('0x89')+_0x4df516+')');_0x4aa78d[_0x52c8('0x155')]='arraybuffer';_0x4aa78d[_0x52c8('0x134')]=function(_0x45ac5a){console[_0x52c8('0x4c')](_0x52c8('0xd3')+_0x4df516+')\x20connect');if(_0x427b84['onDataChannelConnected']){_0x427b84[_0x52c8('0x14e')]();}};_0x4aa78d['onclose']=function(_0x4f0341){console['log']('data\x20channel\x20('+_0x4df516+_0x52c8('0x1c'));};_0x4aa78d['onmessage']=function(_0x233ecb){if(_0x427b84['onDataChannelMessage'])_0x427b84[_0x52c8('0x33')](_0x233ecb[_0x52c8('0xf2')]);};return _0x4aa78d;}catch(_0x2513ba){console['warn'](_0x52c8('0x103'),_0x2513ba);return null;}};onicecandidate=function(_0x3cab53){console[_0x52c8('0x4c')](_0x52c8('0x127'),_0x3cab53);if(_0x3cab53[_0x52c8('0x4')]&&_0x3cab53[_0x52c8('0x4')]['candidate']){_0x427b84['onWebRtcCandidate'](_0x3cab53[_0x52c8('0x4')]);}};handleCreateOffer=function(_0x3f3bfb){_0x3f3bfb['createOffer'](_0x427b84['sdpConstraints'])[_0x52c8('0x161')](function(_0x379435){mungeSDPOffer(_0x379435);_0x3f3bfb['setLocalDescription'](_0x379435);if(_0x427b84['onWebRtcOffer']){_0x427b84[_0x52c8('0x4f')](_0x379435);}},function(){console['warn'](_0x52c8('0x5e'));});};mungeSDPOffer=function(_0x2dcdeb){_0x2dcdeb['sdp']=_0x2dcdeb[_0x52c8('0xf1')][_0x52c8('0x3e')]('useinbandfec=1','useinbandfec=1;stereo=1;sprop-maxcapturerate=48000');};setupPeerConnection=function(_0x20e764){if(_0x20e764[_0x52c8('0x59')])console[_0x52c8('0x4c')](_0x52c8('0x9f'));_0x20e764['onsignalingstatechange']=onsignalingstatechange;_0x20e764['oniceconnectionstatechange']=oniceconnectionstatechange;_0x20e764[_0x52c8('0x80')]=onicegatheringstatechange;_0x20e764[_0x52c8('0x152')]=handleOnTrack;_0x20e764['onicecandidate']=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0x427b84[_0x52c8('0x63')])_0x427b84['aggregatedStats']={};return function(_0x2ee640){let _0x5c67ba={};_0x2ee640['forEach'](_0xdc9859=>{if(_0xdc9859['type']=='inbound-rtp'&&!_0xdc9859[_0x52c8('0x51')]&&(_0xdc9859['mediaType']=='video'||_0xdc9859['id'][_0x52c8('0x10c')]()['includes']('video'))){_0x5c67ba[_0x52c8('0x78')]=_0xdc9859['timestamp'];_0x5c67ba[_0x52c8('0x76')]=_0xdc9859['bytesReceived'];_0x5c67ba[_0x52c8('0xc5')]=_0xdc9859[_0x52c8('0xc5')];_0x5c67ba[_0x52c8('0x1')]=_0xdc9859['packetsLost'];_0x5c67ba['bytesReceivedStart']=_0x427b84['aggregatedStats']&&_0x427b84['aggregatedStats'][_0x52c8('0x111')]?_0x427b84[_0x52c8('0x63')]['bytesReceivedStart']:_0xdc9859['bytesReceived'];_0x5c67ba[_0x52c8('0xc3')]=_0x427b84['aggregatedStats']&&_0x427b84['aggregatedStats'][_0x52c8('0xc3')]?_0x427b84[_0x52c8('0x63')][_0x52c8('0xc3')]:_0xdc9859[_0x52c8('0xc5')];_0x5c67ba[_0x52c8('0x16c')]=_0x427b84[_0x52c8('0x63')]&&_0x427b84[_0x52c8('0x63')][_0x52c8('0x16c')]?_0x427b84[_0x52c8('0x63')][_0x52c8('0x16c')]:_0xdc9859['timestamp'];if(_0x427b84[_0x52c8('0x63')]&&_0x427b84[_0x52c8('0x63')][_0x52c8('0x78')]){if(_0x427b84['aggregatedStats']['bytesReceived']){_0x5c67ba['bitrate']=0x8*(_0x5c67ba['bytesReceived']-_0x427b84['aggregatedStats']['bytesReceived'])/(_0x5c67ba['timestamp']-_0x427b84[_0x52c8('0x63')]['timestamp']);_0x5c67ba['bitrate']=Math['floor'](_0x5c67ba['bitrate']);_0x5c67ba['lowBitrate']=_0x427b84[_0x52c8('0x63')][_0x52c8('0x143')]&&_0x427b84['aggregatedStats'][_0x52c8('0x143')]<_0x5c67ba[_0x52c8('0xe0')]?_0x427b84[_0x52c8('0x63')][_0x52c8('0x143')]:_0x5c67ba['bitrate'];_0x5c67ba[_0x52c8('0x98')]=_0x427b84[_0x52c8('0x63')][_0x52c8('0x98')]&&_0x427b84['aggregatedStats']['highBitrate']>_0x5c67ba[_0x52c8('0xe0')]?_0x427b84['aggregatedStats'][_0x52c8('0x98')]:_0x5c67ba['bitrate'];}if(_0x427b84['aggregatedStats']['bytesReceivedStart']){_0x5c67ba['avgBitrate']=0x8*(_0x5c67ba['bytesReceived']-_0x427b84[_0x52c8('0x63')]['bytesReceivedStart'])/(_0x5c67ba['timestamp']-_0x427b84[_0x52c8('0x63')][_0x52c8('0x16c')]);_0x5c67ba['avgBitrate']=Math['floor'](_0x5c67ba['avgBitrate']);}if(_0x427b84[_0x52c8('0x63')]['framesDecoded']){_0x5c67ba[_0x52c8('0xa4')]=(_0x5c67ba[_0x52c8('0xc5')]-_0x427b84[_0x52c8('0x63')][_0x52c8('0xc5')])/((_0x5c67ba[_0x52c8('0x78')]-_0x427b84[_0x52c8('0x63')][_0x52c8('0x78')])/0x3e8);_0x5c67ba['framerate']=Math[_0x52c8('0x9d')](_0x5c67ba['framerate']);_0x5c67ba[_0x52c8('0x112')]=_0x427b84[_0x52c8('0x63')][_0x52c8('0x112')]&&_0x427b84['aggregatedStats']['lowFramerate']<_0x5c67ba[_0x52c8('0xa4')]?_0x427b84['aggregatedStats']['lowFramerate']:_0x5c67ba['framerate'];_0x5c67ba[_0x52c8('0x100')]=_0x427b84[_0x52c8('0x63')][_0x52c8('0x100')]&&_0x427b84['aggregatedStats'][_0x52c8('0x100')]>_0x5c67ba[_0x52c8('0xa4')]?_0x427b84[_0x52c8('0x63')][_0x52c8('0x100')]:_0x5c67ba['framerate'];}if(_0x427b84['aggregatedStats'][_0x52c8('0xc3')]){_0x5c67ba['avgframerate']=(_0x5c67ba[_0x52c8('0xc5')]-_0x427b84['aggregatedStats'][_0x52c8('0xc3')])/((_0x5c67ba[_0x52c8('0x78')]-_0x427b84['aggregatedStats'][_0x52c8('0x16c')])/0x3e8);_0x5c67ba[_0x52c8('0x145')]=Math[_0x52c8('0x9d')](_0x5c67ba[_0x52c8('0x145')]);}}}if(_0xdc9859['type']=='track'&&(_0xdc9859['trackIdentifier']==_0x52c8('0x12e')||_0xdc9859[_0x52c8('0x65')]=='video')){_0x5c67ba[_0x52c8('0x16b')]=_0xdc9859[_0x52c8('0x16b')];_0x5c67ba[_0x52c8('0x1a')]=_0xdc9859[_0x52c8('0x1a')];_0x5c67ba['framesDroppedPercentage']=_0xdc9859[_0x52c8('0x16b')]/_0xdc9859[_0x52c8('0x1a')]*0x64;_0x5c67ba['frameHeight']=_0xdc9859['frameHeight'];_0x5c67ba[_0x52c8('0x2e')]=_0xdc9859[_0x52c8('0x2e')];_0x5c67ba[_0x52c8('0x77')]=_0x427b84[_0x52c8('0x63')]&&_0x427b84[_0x52c8('0x63')]['frameHeightStart']?_0x427b84['aggregatedStats']['frameHeightStart']:_0xdc9859[_0x52c8('0xda')];_0x5c67ba['frameWidthStart']=_0x427b84['aggregatedStats']&&_0x427b84['aggregatedStats'][_0x52c8('0xf5')]?_0x427b84['aggregatedStats'][_0x52c8('0xf5')]:_0xdc9859['frameWidth'];}if(_0xdc9859[_0x52c8('0x52')]=='candidate-pair'&&_0xdc9859['hasOwnProperty'](_0x52c8('0xc2'))&&_0xdc9859[_0x52c8('0xc2')]!=0x0){_0x5c67ba['currentRoundTripTime']=_0xdc9859['currentRoundTripTime'];}});if(_0x427b84['aggregatedStats']['receiveToCompositeMs']){_0x5c67ba[_0x52c8('0x6a')]=_0x427b84['aggregatedStats'][_0x52c8('0x6a')];_0x427b84['latencyTestTimings']['SetFrameDisplayDeltaTime'](_0x427b84[_0x52c8('0x63')]['receiveToCompositeMs']);}_0x427b84[_0x52c8('0x63')]=_0x5c67ba;if(_0x427b84[_0x52c8('0x149')])_0x427b84['onAggregatedStats'](_0x5c67ba);};};setupTracksToSendAsync=async function(_0x440f7e){_0x440f7e['addTransceiver']('video',{'direction':'recvonly'});if(!_0x427b84[_0x52c8('0x6d')]){_0x440f7e['addTransceiver'](_0x52c8('0x2a'),{'direction':_0x52c8('0x11b')});}else{let _0x1220d7=_0x427b84[_0x52c8('0x6d')]?{'autoGainControl':![],'channelCount':0x1,'echoCancellation':![],'latency':0x0,'noiseSuppression':![],'sampleRate':0x3e80,'volume':0x1}:![];const _0x1705f0=await navigator[_0x52c8('0x56')]['getUserMedia']({'video':![],'audio':_0x1220d7});if(_0x1705f0){for(const _0x12437c of _0x1705f0[_0x52c8('0xdb')]()){if(_0x12437c['kind']&&_0x12437c[_0x52c8('0x65')]==_0x52c8('0x2a')){_0x440f7e['addTransceiver'](_0x12437c,{'direction':_0x52c8('0x43')});}}}else{_0x440f7e[_0x52c8('0x9c')]('audio',{'direction':'recvonly'});}}};this['startLatencyTest']=function(_0x44ef01){if(!_0x427b84[_0x52c8('0x13a')]){return;}_0x427b84['latencyTestTimings'][_0x52c8('0xd2')]();_0x427b84[_0x52c8('0x29')]['TestStartTimeMs']=Date['now']();_0x44ef01(_0x427b84['latencyTestTimings'][_0x52c8('0x105')]);};this[_0x52c8('0xe1')]=function(_0x2452a3){console[_0x52c8('0x4c')]('ICE\x20candidate:\x20',_0x2452a3);let _0x342b1b=new RTCIceCandidate(_0x2452a3);_0x427b84[_0x52c8('0xd0')][_0x52c8('0x140')](_0x342b1b)[_0x52c8('0x161')](_0x2b50a1=>{console['log'](_0x52c8('0x135'));});};this[_0x52c8('0xf0')]=function(){if(_0x427b84['pcClient']){console[_0x52c8('0x4c')]('Closing\x20existing\x20PeerConnection');_0x427b84[_0x52c8('0xd0')][_0x52c8('0x92')]();_0x427b84['pcClient']=null;}_0x427b84['pcClient']=new RTCPeerConnection(_0x427b84['cfg']);setupTracksToSendAsync(_0x427b84['pcClient'])['finally'](function(){setupPeerConnection(_0x427b84['pcClient']);_0x427b84[_0x52c8('0x83')]=setupDataChannel(_0x427b84[_0x52c8('0xd0')],'cirrus',_0x427b84[_0x52c8('0x8')]);handleCreateOffer(_0x427b84['pcClient']);});};this['receiveAnswer']=function(_0x27f17e){var _0x5c6d8e=new RTCSessionDescription(_0x27f17e);_0x427b84[_0x52c8('0xd0')]['setRemoteDescription'](_0x5c6d8e);let _0x777f7e=_0x427b84['pcClient'][_0x52c8('0x15')]();for(let _0x4fe9bb of _0x777f7e){_0x4fe9bb[_0x52c8('0xa7')]=0x0;}};this['close']=function(){if(_0x427b84[_0x52c8('0xd0')]){console[_0x52c8('0x4c')]('Closing\x20existing\x20peerClient');_0x427b84['pcClient']['close']();_0x427b84['pcClient']=null;}if(_0x427b84[_0x52c8('0xfd')])clearInterval(_0x427b84['aggregateStatsIntervalId']);};this[_0x52c8('0x157')]=function(_0x2a6613){if(_0x427b84[_0x52c8('0x83')]&&_0x427b84[_0x52c8('0x83')]['readyState']=='open'){_0x427b84[_0x52c8('0x83')][_0x52c8('0x157')](_0x2a6613);}};this['getStats']=function(_0x100e46){if(_0x427b84[_0x52c8('0xd0')]&&_0x100e46){_0x427b84[_0x52c8('0xd0')][_0x52c8('0x74')](null)['then'](_0x285da5=>{_0x100e46(_0x285da5);});}};this['aggregateStats']=function(_0x5c8d85){let _0x18dd66=generateAggregatedStatsFunction();let _0x489688=()=>{_0x427b84[_0x52c8('0x74')](_0x18dd66);};_0x427b84[_0x52c8('0xfd')]=setInterval(_0x489688,_0x5c8d85);};};return _0x2f23d3;}));'use\x20strict';var MapVision=window['MapVision']||{};MapVision['version']=()=>{return'1.0.1';};MapVision['OpenStatus']={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision[_0x52c8('0x81')]={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision[_0x52c8('0x14b')]={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision[_0x52c8('0x53')]={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'LatencyTest':0x6,'RequestInitialSettings':0x7,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision[_0x52c8('0x144')]={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision['MouseButtonsMask']={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision['MapStatusType']={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision[_0x52c8('0x82')]={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'GetMaps':0x18718,'OpenMap':0x18719,'GetScrrenPosition':0x18723,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'StreamVideoOpen':0x1877d,'StreamVideoClose':0x1877e,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'SplitDynamicBuilding':0x18862,'SplitDynamicFloor':0x18863,'SplitFloorReset':0x18864,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision['Point2D']=function(){this['x']=0x0;this['y']=0x0;};MapVision[_0x52c8('0xa2')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision['Position']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this[_0x52c8('0x75')]=0x0;this['yaw']=0x0;this[_0x52c8('0x60')]=0x0;};MapVision[_0x52c8('0xf3')]=function(){this['type']=_0x52c8('0xfc');this[_0x52c8('0x126')]=0x1;this[_0x52c8('0x14f')]='';this[_0x52c8('0xb2')]='';this['position']=new MapVision[(_0x52c8('0xb6'))]();};MapVision[_0x52c8('0x151')]=function(){this[_0x52c8('0x52')]='model';this['gid']=0x1;this['name']='';this['style']='';this[_0x52c8('0x73')]=new MapVision['Position']();};MapVision['LineString']=function(){this['type']='linestring';this[_0x52c8('0x126')]=0x1;this['name']='';this[_0x52c8('0xb2')]='';this['geom']=[];};MapVision[_0x52c8('0x124')]=function(){this['type']='polygon';this[_0x52c8('0x126')]=0x1;this['name']='';this['style']='';this['geom']=[];};MapVision['Building']=function(){this[_0x52c8('0x52')]='building';this[_0x52c8('0x126')]=0x0;this['name']='';this[_0x52c8('0x88')]=[{'type':_0x52c8('0x9d'),'gid':0x0,'name':''}];this[_0x52c8('0x73')]=new MapVision['Position']();};MapVision['WS_OPEN_STATE']=0x1;MapVision['View3d']=function(_0x35ec2d){this['id']=_0x35ec2d['id'];this[_0x52c8('0x14f')]='MapVision.View3d';this[_0x52c8('0x34')]=_0x35ec2d[_0x52c8('0x34')];this[_0x52c8('0x110')]=_0x35ec2d['projectId'];this[_0x52c8('0x14d')]=_0x35ec2d[_0x52c8('0x14d')];this['enableKeyboard']=!![];this['enableMouse']=!![];this[_0x52c8('0x7f')]=null;this['_webRtcPlayerHtmlElement']=null;this[_0x52c8('0xec')]=null;this['_webSocket']=null;this[_0x52c8('0xdd')]=null;this[_0x52c8('0x16d')]=null;this[_0x52c8('0xe5')]=![];this[_0x52c8('0xe4')]=null;this[_0x52c8('0xbc')]=null;this[_0x52c8('0x101')]=null;this[_0x52c8('0xba')]=null;this[_0x52c8('0xcd')]=null;};MapVision['View3d']['prototype'][_0x52c8('0x22')]=function(_0x20bf44){let _0x21ff39=this;_0x21ff39['_registerCallback']=_0x20bf44;_0x21ff39['_callback']=null;if(_0x21ff39['id']==''||_0x21ff39[_0x52c8('0x34')]==''||_0x21ff39['projectId']==''){if(_0x21ff39['_registerCallback']){const _0x21702f={'code':0xc9,'msg':_0x52c8('0x24')};_0x21ff39['_registerCallback'](_0x21702f);}return;}window['WebSocket']=window[_0x52c8('0x3c')]||window[_0x52c8('0x107')];if(!window[_0x52c8('0x3c')]){if(_0x21ff39['_registerCallback']){const _0x56354f={'code':0x1f9,'msg':_0x52c8('0x10d')};_0x21ff39[_0x52c8('0x7f')](_0x56354f);}return;}const _0x539bd2=_0x21ff39['_webSocket'];if(_0x539bd2){_0x539bd2[_0x52c8('0x92')]();_0x21ff39[_0x52c8('0x14c')]=undefined;console['log']('\x20_webSocket\x20closed\x20');_0x21ff39['_unregisterEvents'](_0x21ff39[_0x52c8('0x12c')]);}if(_0x21ff39['url']['indexOf'](_0x52c8('0x119'))<0x0){let _0x120a1d=_0x21ff39['url'][_0x52c8('0x3e')](_0x52c8('0x58'),'');_0x120a1d=_0x120a1d['replace']('/','');_0x120a1d=_0x52c8('0x4d')+_0x120a1d;_0x120a1d=_0x120a1d[_0x52c8('0x3e')]('///','//');console[_0x52c8('0x4c')](_0x120a1d);_0x21ff39['_connectWebsocket'](_0x120a1d);return;}const _0x2f4768={'httpUrl':_0x21ff39[_0x52c8('0x34')]+_0x52c8('0x15e')+_0x21ff39['projectId']+_0x52c8('0xd5')+_0x21ff39[_0x52c8('0x14d')],'type':_0x52c8('0xac')};setTimeout(()=>{_0x21ff39['_httpRequest'](_0x2f4768,function(_0x276035){if(_0x276035[_0x52c8('0x12f')]&&_0x276035['code']===0xc8){const _0x149758=_0x276035[_0x52c8('0xf2')];if(_0x149758[_0x52c8('0x5f')]<0xa){console[_0x52c8('0x4c')](_0x52c8('0x7a'));if(_0x21ff39['_registerCallback']){const _0xc8a897={'code':0x12c,'msg':'aimapvision3d\x20server\x20is\x20not\x20started.'};_0x21ff39[_0x52c8('0x7f')](_0xc8a897);}return;}let _0x36552b=_0x21ff39['url'][_0x52c8('0x3e')](_0x52c8('0xb8'),'');const _0x31b4da=_0x36552b[_0x52c8('0x102')](':',0x0);if(_0x31b4da>0x0)_0x36552b=_0x36552b['substring'](0x0,_0x31b4da);_0x36552b='ws://'+_0x36552b+':'+_0x149758[_0x52c8('0x5f')];_0x21ff39[_0x52c8('0x8e')](_0x36552b);}else{console['log'](_0x276035);if(_0x21ff39[_0x52c8('0x7f')]){_0x21ff39['_registerCallback'](_0x276035);}}},function(){if(_0x21ff39['_registerCallback']){const _0x225086={'code':0x1f4,'msg':_0x52c8('0x13d')};_0x21ff39['_registerCallback'](_0x225086);}});},0x64);};MapVision['View3d']['prototype']['Close']=function(){let _0x2262c7=this;const _0x3188ea=_0x2262c7[_0x52c8('0x14c')];if(_0x3188ea){_0x2262c7[_0x52c8('0x9b')]();_0x3188ea[_0x52c8('0x92')]();_0x2262c7['_webSocket']=undefined;console['log'](_0x52c8('0x5b'));}};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x8c')]=function(_0xafedff,_0x5021cb){if(_0xafedff==='onmousedown'){this['_onMouseDownCallback']=_0x5021cb;this[_0x52c8('0xd9')](MapVision['CommandType'][_0x52c8('0x162')]);}else if(_0xafedff===_0x52c8('0x1b')){this['_onMouseMoveCallback']=_0x5021cb;}else if(_0xafedff===_0x52c8('0x90')){this['_onMouseUpCallback']=_0x5021cb;}else{this['_registerCallback']=_0x5021cb;}};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x9b')]=function(){if(this[_0x52c8('0x12c')]){this[_0x52c8('0x54')](this['_webRtcPlayerHtmlElement']);}this['_onMouseDownCallback']=null;this['_onMouseMoveCallback']=null;this[_0x52c8('0xba')]=null;this[_0x52c8('0x7f')]=null;};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x16a')]=function(){const _0x416817=this['_webSocket']===undefined;return _0x416817;};MapVision[_0x52c8('0x120')]['prototype']['SetParameters']=function(_0x4471eb){this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0xb4')],_0x4471eb);};MapVision[_0x52c8('0x120')][_0x52c8('0x10')][_0x52c8('0x5a')]=function(_0x4cd3a5,_0x4a497d){this[_0x52c8('0xdd')]=null;this['_emiUICommand'](MapVision['CommandType']['SetResolution'],{'width':_0x4cd3a5,'height':_0x4a497d});};MapVision['View3d']['prototype']['SetMapStatus']=function(_0x5cd6db,_0x397ec8){if(_0x5cd6db>MapVision[_0x52c8('0x7e')][_0x52c8('0x68')])this[_0x52c8('0xdd')]=_0x397ec8;else this[_0x52c8('0xdd')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0x12a')],{'mapstatus':_0x5cd6db});};MapVision['View3d'][_0x52c8('0x10')]['Clear']=function(){this[_0x52c8('0xdd')]=null;this['_onMouseSelectedObj']=null;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0xc6')]);};MapVision[_0x52c8('0x120')]['prototype']['Stop']=function(){this[_0x52c8('0xdd')]=null;this[_0x52c8('0xd9')](MapVision['CommandType']['Stop']);};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x156')]=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['ResetHome']);};MapVision[_0x52c8('0x120')]['prototype']['Rotate']=function(_0x27e30a,_0xaff0de,_0x56ea81,_0x3549a3,_0x1b6bbe){this['_callback']=null;let _0x809016={};if(_0x27e30a){_0x809016['pitch']=_0x27e30a;}if(_0xaff0de){_0x809016['radio']=_0xaff0de;}if(_0x56ea81){_0x809016[_0x52c8('0x42')]=_0x56ea81;}if(_0x3549a3){_0x809016[_0x52c8('0x126')]=_0x3549a3;}if(_0x1b6bbe){_0x809016[_0x52c8('0x8a')]=_0x1b6bbe;}this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0x104')],{'gid':_0x3549a3,'pitch':_0x27e30a,'radio':_0xaff0de,'distance':_0x56ea81,'highlight':_0x1b6bbe});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['GetCurrentPosition']=function(_0x2ee250){this['_callback']=_0x2ee250;this['_emiUICommand'](MapVision[_0x52c8('0x82')][_0x52c8('0xe7')]);};MapVision['View3d']['prototype']['GetScrrenPosition']=function(_0xc0a59e,_0x8047f8){this[_0x52c8('0xdd')]=_0x8047f8;const _0x330c1b=[];_0xc0a59e['forEach'](_0x2399f3=>{_0x330c1b[_0x52c8('0xad')]({'gid':_0x2399f3['gid']});});this[_0x52c8('0xd9')](MapVision['CommandType']['GetScrrenPosition'],{'objects':_0x330c1b});};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x162')]=function(_0x1f214c){this[_0x52c8('0x16d')]=_0x1f214c;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['SetMouseCallback']);};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x55')]=function(_0x3609c4){this[_0x52c8('0x16d')]=_0x3609c4;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['SetMousePositionCallback']);};MapVision['View3d']['prototype'][_0x52c8('0xcc')]=function(_0x586628){this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0xcc')],{'mapname':_0x586628});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['GetHomePosition']=function(_0x3ff56a){this[_0x52c8('0xdd')]=_0x3ff56a;this[_0x52c8('0xd9')](MapVision['CommandType']['GetHomePosition']);};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x132')]=function(_0x428528,_0x3e4d29){this['_callback']=null;_0x428528[_0x52c8('0x15b')]=_0x3e4d29;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0x132')],_0x428528);};MapVision['View3d'][_0x52c8('0x10')]['FlyToPosition']=function(_0x17e8e2,_0x3af8e8,_0x28e5fa){this[_0x52c8('0xdd')]=null;_0x17e8e2['showlocation']=_0x3af8e8;_0x17e8e2['speed']=_0x28e5fa;this['_emiUICommand'](MapVision[_0x52c8('0x82')][_0x52c8('0x25')],_0x17e8e2);};MapVision['View3d']['prototype']['FlyToObject']=function(_0x4b23d6,_0x28c697,_0x1f4645){this[_0x52c8('0xdd')]=null;_0x4b23d6['showlocation']=_0x28c697;_0x4b23d6['speed']=_0x1f4645;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0xb')],_0x4b23d6);};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x113')]=function(_0x46094c,_0x68e4af,_0x21899c,_0x461385,_0x525339){this[_0x52c8('0xdd')]=null;this[_0x52c8('0xd9')](MapVision['CommandType']['FlyToObjectById'],{'gid':_0x46094c,'showlocation':_0x68e4af,'distance':_0x461385,'speed':_0x525339,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x21899c,'yaw':0x0,'roll':0x0}});};MapVision['View3d']['prototype'][_0x52c8('0x13')]=function(_0x30d763,_0x575030){this['_callback']=_0x575030;this['_emiUICommand'](MapVision['CommandType']['FindObjectById'],{'gid':_0x30d763});};MapVision['View3d']['prototype']['FindObjectByName']=function(_0x2c4938,_0x2e285a){this['_callback']=_0x2e285a;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0x79')],{'gid':_0x2c4938,'name':_0x2c4938});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')][_0x52c8('0x0')]=function(_0x91348,_0x4537cf,_0x1a0d8b){this[_0x52c8('0xdd')]=_0x1a0d8b;if(!_0x4537cf)_0x4537cf=0x14;this['_emiUICommand'](MapVision[_0x52c8('0x82')][_0x52c8('0x0')],{'gid':_0x91348,'limit':_0x4537cf});};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x18')]=function(_0x4ffbda){this[_0x52c8('0xdd')]=_0x4ffbda;this['_emiUICommand'](MapVision['CommandType']['GetSelectedObject']);};MapVision['View3d'][_0x52c8('0x10')]['UpdateObject']=function(_0x43cb55){this[_0x52c8('0xdd')]=null;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0xce')],_0x43cb55);};MapVision['View3d']['prototype'][_0x52c8('0x12d')]=function(_0x558e15,_0x37e6a8){this[_0x52c8('0xdd')]=null;this[_0x52c8('0xd9')](MapVision['CommandType']['UpdateObjectStyle'],{'gid':_0x558e15,'style':_0x37e6a8});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')][_0x52c8('0x141')]=function(){this[_0x52c8('0xdd')]=null;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['ClearObjectStyle']);};MapVision[_0x52c8('0x120')]['prototype']['GetObjectsVisible']=function(_0x11ac75){this[_0x52c8('0xdd')]=_0x11ac75;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0x7d')]);};MapVision[_0x52c8('0x120')][_0x52c8('0x10')][_0x52c8('0x13e')]=function(_0x15796a){this[_0x52c8('0xdd')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0x13e')],{'objects':_0x15796a});};MapVision[_0x52c8('0x120')]['prototype']['SetObjectHighlight']=function(_0x2d8684){this[_0x52c8('0xdd')]=null;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['SetObjectHighlight'],{'gid':_0x2d8684});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['SetObjectsHighlight']=function(_0x1c2323){this['_callback']=null;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0xa0')],{'objects':_0x1c2323});};MapVision['View3d']['prototype'][_0x52c8('0x164')]=function(_0x45921d){this[_0x52c8('0xdd')]=null;this[_0x52c8('0xd9')](MapVision['CommandType']['SetObjectsHighlightByPrefix'],{'prefix':_0x45921d});};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0xea')]=function(){this[_0x52c8('0xd9')](MapVision['CommandType'][_0x52c8('0xea')]);};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['UpdateObjectVisible']=function(_0x1d90a8,_0x8e5878){this['_callback']=null;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['UpdateObjectVisible'],{'gid':_0x1d90a8,'visible':_0x8e5878});};MapVision['View3d']['prototype'][_0x52c8('0x3b')]=function(_0x1e2a50,_0x3d4c66){this[_0x52c8('0xdd')]=null;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['UpdateObjectVisibleByPrefix'],{'gid':_0x1e2a50,'visible':_0x3d4c66});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['CreateObject']=function(_0xfb148c){this[_0x52c8('0xdd')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0x10f')],_0xfb148c);};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x15f')]=function(_0x3898cc){this[_0x52c8('0xdd')]=null;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')]['CreateRoute'],_0x3898cc);};MapVision['View3d']['prototype']['StartRoute']=function(_0x4c4c97){this['_callback']=null;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')]['StartRoute'],_0x4c4c97);};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x96')]=function(_0xd2f691){this['_callback']=_0xd2f691;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0x96')]);};MapVision['View3d']['prototype']['PauseRoute']=function(){this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')]['PauseRoute']);};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x128')]=function(){this[_0x52c8('0xdd')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0x128')]);};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0xfb')]=function(){this['_emiUICommand'](MapVision[_0x52c8('0x82')][_0x52c8('0xfb')]);};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x10b')]=function(_0xc454cb){this['_callback']=null;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['PlaySequence'],{'gid':_0xc454cb});};MapVision['View3d']['prototype'][_0x52c8('0xbe')]=function(_0x44d0fa){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['PauseSequence'],{'gid':_0x44d0fa});};MapVision['View3d']['prototype'][_0x52c8('0x146')]=function(_0x269e49,_0x171ef8){this['_callback']=_0x171ef8;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['IsPlayingSequence'],{'gid':_0x269e49});};MapVision[_0x52c8('0x120')]['prototype']['IsPausedSequence']=function(_0x572de8,_0x105541){this['_callback']=_0x105541;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0xf8')],{'gid':_0x572de8});};MapVision['View3d']['prototype']['StopSequence']=function(_0xad2a6b,_0x57d4c3){this['_callback']=null;this[_0x52c8('0xd9')](MapVision['CommandType'][_0x52c8('0xab')],{'gid':_0xad2a6b});};MapVision['View3d']['prototype']['StreamVideoOpen']=function(_0x46a702){this['_callback']=null;this[_0x52c8('0xd9')](MapVision['CommandType']['StreamVideoOpen'],_0x46a702);};MapVision[_0x52c8('0x120')][_0x52c8('0x10')][_0x52c8('0x150')]=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['StreamVideoClose']);};MapVision['View3d'][_0x52c8('0x10')]['GetBuildingNum']=function(_0x5de903){this['_callback']=_0x5de903;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['GetBuildingNum']);};MapVision['View3d'][_0x52c8('0x10')]['GetBuildingName']=function(_0x5cf2fe,_0x4d2f29){this['_callback']=_0x4d2f29;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0xa8')],{'bindex':_0x5cf2fe});};MapVision['View3d']['prototype'][_0x52c8('0x3d')]=function(_0x3fca79){this[_0x52c8('0xdd')]=_0x3fca79;this[_0x52c8('0xd9')](MapVision['CommandType'][_0x52c8('0x3d')]);};MapVision['View3d'][_0x52c8('0x10')]['GetBuildingVisible']=function(_0x37b096,_0x55957e){this['_callback']=_0x55957e;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0x6f')],{'gid':_0x37b096});};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0xe9')]=function(_0x35177f,_0x2294e8,_0x55602f){this['_emiUICommand'](MapVision[_0x52c8('0x82')][_0x52c8('0xe9')],{'gid':_0x35177f,'visible':_0x2294e8,'opacity':_0x55602f});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')][_0x52c8('0x6b')]=function(_0x3b114d,_0x228cd7,_0x13ddb5){this[_0x52c8('0xd9')](MapVision['CommandType'][_0x52c8('0x6b')],{'gid':_0x3b114d,'visible':_0x228cd7,'opacity':_0x13ddb5});};MapVision[_0x52c8('0x120')]['prototype']['ResetAllBuildings']=function(){this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0x14a')]);};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['SplitBuilding']=function(_0x335139,_0x290e8f){this[_0x52c8('0xd9')](MapVision['CommandType'][_0x52c8('0x130')],{'gid':_0x335139,'offset':_0x290e8f});};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0xb9')]=function(_0x447415){this['_emiUICommand'](MapVision[_0x52c8('0x82')][_0x52c8('0xb9')],{'gid':_0x447415});};MapVision[_0x52c8('0x120')]['prototype']['SplitDynamicBuilding']=function(_0x5f5ae0,_0x36ab4e){this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')]['SplitDynamicBuilding'],{'gid':_0x5f5ae0,'offset':_0x36ab4e});};MapVision['View3d'][_0x52c8('0x10')]['SplitDynamicFloor']=function(_0x58f7fa,_0x52ece8,_0x2d6811){this[_0x52c8('0xd9')](MapVision['CommandType'][_0x52c8('0x10e')],{'gid':_0x58f7fa,'floor':_0x52ece8,'offset':_0x2d6811});};MapVision['View3d']['prototype'][_0x52c8('0x5d')]=function(_0x1ce0a0,_0x1fd1b0){this[_0x52c8('0xd9')](MapVision['CommandType']['SplitFloorReset'],{'gid':_0x1ce0a0,'floor':_0x1fd1b0});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')][_0x52c8('0x47')]=function(_0xe6144e,_0x588c32){this['_callback']=_0x588c32;this['_emiUICommand'](MapVision[_0x52c8('0x82')][_0x52c8('0x47')],{'gid':_0xe6144e});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')][_0x52c8('0x26')]=function(_0x4a0ea1,_0x9aadd){this[_0x52c8('0xdd')]=_0x9aadd;this['_emiUICommand'](MapVision[_0x52c8('0x82')][_0x52c8('0x154')],{'gid':_0x4a0ea1});};MapVision['View3d'][_0x52c8('0x10')]['GetFloorNames']=function(_0x5b963c,_0x85fac5){this[_0x52c8('0xdd')]=_0x85fac5;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0x154')],{'gid':_0x5b963c});};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0xd4')]=function(_0x489340,_0x34b40b,_0x118c6b){this[_0x52c8('0xdd')]=_0x118c6b;this['_emiUICommand'](MapVision['CommandType']['GetFloorVisible'],{'gid':_0x489340,'floor':_0x34b40b});};MapVision['View3d']['prototype']['SetFloorVisible']=function(_0x5f1f78,_0x1b74b9,_0x324a69,_0x5515cc){if(!_0x324a69)_0x324a69=![];if(!_0x5515cc)_0x5515cc=0x0;this[_0x52c8('0xd9')](MapVision['CommandType']['SetFloorVisible'],{'gid':_0x5f1f78,'floor':_0x1b74b9,'visible':_0x324a69,'opacity':_0x5515cc});};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x8f')]=function(_0x378c92,_0x121463,_0x1f9607){this[_0x52c8('0xdd')]=_0x1f9607;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0x8f')],{'gid':_0x378c92,'floor':_0x121463});};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0xd6')]=function(_0xa99cfb,_0x24619d,_0x86b71c){this['_callback']=_0x86b71c;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')]['GetUpFloorNames'],{'gid':_0xa99cfb,'floor':_0x24619d});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')][_0x52c8('0x86')]=function(_0x993fc,_0x79ee53,_0x57ef66){this[_0x52c8('0xdd')]=_0x57ef66;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['GetDownFloorNum'],{'gid':_0x993fc,'floor':_0x79ee53});};MapVision['View3d']['prototype'][_0x52c8('0x62')]=function(_0x4055d7,_0x5ca0f5,_0x955d46){this[_0x52c8('0xdd')]=_0x955d46;this['_emiUICommand'](MapVision[_0x52c8('0x82')][_0x52c8('0x62')],{'gid':_0x4055d7,'floor':_0x5ca0f5});};MapVision['View3d']['prototype'][_0x52c8('0x169')]=function(_0x150d2e,_0x43bf8c,_0x3e7bc2){this[_0x52c8('0xdd')]=_0x3e7bc2;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0x169')],{'gid':_0x150d2e,'floor':_0x43bf8c});};MapVision['View3d'][_0x52c8('0x10')]['GetFloorRoomName']=function(_0x50dda9,_0x23c937,_0x40bd3f){this[_0x52c8('0xdd')]=_0x40bd3f;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')]['GetFloorRoomNames'],{'gid':_0x50dda9,'floor':_0x23c937});};MapVision['View3d']['prototype']['GetFloorRoomNames']=function(_0xe97a35,_0x2c9fc8,_0x3f8196){this[_0x52c8('0xdd')]=_0x3f8196;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0xd8')],{'gid':_0xe97a35,'floor':_0x2c9fc8});};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x6')]=function(_0x31acb4,_0x507a74,_0x58bc72,_0x33f9e0){this[_0x52c8('0xdd')]=_0x33f9e0;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')]['GetFloorRoomVisible'],{'gid':_0x31acb4,'floor':_0x507a74,'room':_0x58bc72});};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x28')]=function(_0x4c6fde,_0x52500c,_0x1777fa,_0x470182,_0x15c0a0){if(!_0x470182)_0x470182=![];if(!_0x15c0a0)_0x15c0a0=0x0;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0x28')],{'gid':_0x4c6fde,'floor':_0x52500c,'room':_0x1777fa,'visible':_0x470182,'opacity':_0x15c0a0});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')][_0x52c8('0x23')]=function(_0x4b31e2,_0xf736e6,_0x5a28aa){this[_0x52c8('0xdd')]=_0x5a28aa;this['_emiUICommand'](MapVision[_0x52c8('0x82')][_0x52c8('0x23')],{'gid':_0x4b31e2,'floor':_0xf736e6});};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0xae')]=function(_0x27cfda,_0x1174e2,_0x2e5793){this['_callback']=_0x2e5793;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0x36')],{'gid':_0x27cfda,'floor':_0x1174e2});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['GetFloorDeviceNames']=function(_0x527918,_0x111e84,_0x565507){this[_0x52c8('0xdd')]=_0x565507;this[_0x52c8('0xd9')](MapVision['CommandType']['GetFloorDeviceNames'],{'gid':_0x527918,'floor':_0x111e84});};MapVision[_0x52c8('0x120')]['prototype']['GetFloorDeviceVisible']=function(_0x56f02c,_0x2879e0,_0x1a5f51,_0x15f2ab){this[_0x52c8('0xdd')]=_0x15f2ab;this[_0x52c8('0xd9')](MapVision['CommandType']['GetFloorDeviceVisible'],{'gid':_0x56f02c,'floor':_0x2879e0,'device':_0x1a5f51});};MapVision['View3d']['prototype'][_0x52c8('0x129')]=function(_0xdee588,_0x5b3600,_0x22141a,_0x505bc3,_0x14093f){if(!_0x505bc3)_0x505bc3=![];if(!_0x14093f)_0x14093f=0x0;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')]['SetFloorDeviceVisible'],{'gid':_0xdee588,'floor':_0x5b3600,'device':_0x22141a,'visible':_0x505bc3,'opacity':_0x14093f});};MapVision['View3d'][_0x52c8('0x10')]['SetGroundVisible']=function(_0x1e49cd){this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')][_0x52c8('0xc9')],{'visible':_0x1e49cd});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['OverLayerStartEdit']=function(_0x2cbf0b,_0x39b1c7){this['_callback']=_0x39b1c7;this['_emiUICommand'](MapVision[_0x52c8('0x82')][_0x52c8('0xbd')],_0x2cbf0b);};MapVision['View3d']['prototype'][_0x52c8('0x2d')]=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['OverLayerStopEdit']);};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0xeb')]=function(_0x1cc0b2){this['_callback']=_0x1cc0b2;this['_emiUICommand'](MapVision['CommandType']['OverLayerSelectObjectEdit']);};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0xf6')]=function(_0x1cd4a2,_0x3fdb69){this[_0x52c8('0xdd')]=_0x3fdb69;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['OverLayerFindObject'],{'name':_0x1cd4a2});};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['OverLayerCreateObject']=function(_0x440ab2,_0x137fa6){this['_callback']=_0x137fa6;this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')]['OverLayerCreateObject'],_0x440ab2);};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x64')]=function(_0x2a5260,_0x44c7a7){this['_callback']=_0x44c7a7;this['_emiUICommand'](MapVision[_0x52c8('0x82')]['OverLayerCreateObjects'],{'shapes':_0x2a5260});};MapVision['View3d'][_0x52c8('0x10')]['OverLayerUpdateObject']=function(_0x5f3f5d){this['_emiUICommand'](MapVision['CommandType']['OverLayerUpdateObject'],_0x5f3f5d);};MapVision[_0x52c8('0x120')]['prototype']['OverLayerRemoveObject']=function(_0x2cd824){this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveObject'],_0x2cd824);};MapVision['View3d']['prototype']['OverLayerRemoveObjectById']=function(_0x354c38){this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')]['OverLayerRemoveObject'],{'gid':_0x354c38});};MapVision['View3d']['prototype'][_0x52c8('0x166')]=function(_0x4d921a){this[_0x52c8('0xd9')](MapVision['CommandType'][_0x52c8('0xbb')],{'ids':_0x4d921a});};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x133')]=function(_0x130e28){if(_0x130e28){this['_emiUICommand'](MapVision[_0x52c8('0x82')]['OverLayerRemoveAllCustom'],{'types':_0x130e28});}else{this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveAll']);}};MapVision['View3d']['prototype'][_0x52c8('0x44')]=function(_0x182143,_0x4c1faf){this[_0x52c8('0xdd')]=_0x4c1faf;this[_0x52c8('0xd9')](MapVision['CommandType']['LayerLoad'],_0x182143);};MapVision[_0x52c8('0x120')]['prototype']['LayerReLoad']=function(_0x1338e1,_0x7cf92c){this[_0x52c8('0xdd')]=_0x7cf92c;this[_0x52c8('0xd9')](MapVision['CommandType'][_0x52c8('0x13c')],_0x1338e1);};MapVision[_0x52c8('0x120')]['prototype']['LayersLoad']=function(_0xaca88d,_0x14ee83){this['_callback']=_0x14ee83;this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0x2')],{'layers':_0xaca88d});};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0xe6')]=function(_0xfd6627,_0x192939){this[_0x52c8('0xdd')]=_0x192939;this[_0x52c8('0xd9')](MapVision['CommandType']['LayerSelectObject'],{'gid':_0xfd6627});};MapVision['View3d'][_0x52c8('0x10')]['LayerRemove']=function(_0x5610f6){this['_emiUICommand'](MapVision['CommandType'][_0x52c8('0x66')],{'gid':_0x5610f6});};MapVision[_0x52c8('0x120')]['prototype']['LayerSetVisible']=function(_0x4e30b3,_0x1903ad){this[_0x52c8('0xd9')](MapVision[_0x52c8('0x82')]['LayerSetVisible'],{'gid':_0x4e30b3,'visible':_0x1903ad});};MapVision['View3d']['prototype'][_0x52c8('0x13b')]=function(_0x598e8f,_0x664ed2,_0x1c269d,_0x52e1cd){this[_0x52c8('0xd9')](MapVision['CommandType'][_0x52c8('0x3')],{'visible':_0x598e8f,'x':_0x664ed2,'y':_0x1c269d,'scale':_0x52e1cd});};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x8e')]=function(_0x59188d){let _0x3d09cf=this;_0x3d09cf['_webSocket']=new WebSocket(_0x59188d);_0x3d09cf[_0x52c8('0x14c')]['onmessage']=function(_0x111451){var _0x3a3e2a=JSON[_0x52c8('0x165')](_0x111451[_0x52c8('0xf2')]);if(_0x3a3e2a['type']===_0x52c8('0xcb')){_0x3d09cf['_createWebRtcPlayer'](_0x3d09cf['id'],_0x3a3e2a);}else if(_0x3a3e2a[_0x52c8('0x52')]===_0x52c8('0x4a')){}else if(_0x3a3e2a[_0x52c8('0x52')]==='answer'){_0x3d09cf['_onWebRtcAnswer'](_0x3a3e2a);}else if(_0x3a3e2a[_0x52c8('0x52')]===_0x52c8('0xfa')){_0x3d09cf[_0x52c8('0x4e')](_0x3a3e2a['candidate']);}else{console[_0x52c8('0x4c')](_0x52c8('0x2f')+_0x3a3e2a[_0x52c8('0x52')]);}};_0x3d09cf[_0x52c8('0x14c')]['onerror']=function(_0x5de88e){console[_0x52c8('0x4c')](_0x52c8('0xc0')+JSON[_0x52c8('0xde')](_0x5de88e));if(_0x3d09cf[_0x52c8('0x7f')]){const _0xc11e0e={'code':0x64,'msg':_0x52c8('0x14')};_0x3d09cf[_0x52c8('0x7f')](_0xc11e0e);}};_0x3d09cf[_0x52c8('0x14c')][_0x52c8('0x138')]=function(_0x583b5b){console[_0x52c8('0x4c')](_0x52c8('0xdf')+JSON[_0x52c8('0xde')](_0x583b5b['code'])+'\x20-\x20'+_0x583b5b[_0x52c8('0x94')]);_0x3d09cf[_0x52c8('0x14c')]=undefined;let _0xab3bbf=document[_0x52c8('0xc8')](_0x3d09cf['id']);if(_0x3d09cf['_webRtcPlayerObj']){_0xab3bbf[_0x52c8('0x163')](_0x3d09cf[_0x52c8('0xec')][_0x52c8('0x13a')]);_0x3d09cf['_webRtcPlayerObj'][_0x52c8('0x92')]();_0x3d09cf['_webRtcPlayerObj']=undefined;}if(_0x3d09cf['_registerCallback']){const _0x10660b={'code':0x190,'msg':_0x52c8('0x16')};_0x3d09cf['_registerCallback'](_0x10660b);}};};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['_registerMouseEvents']=function(_0x1ad039){let _0x58c4c5=this;_0x1ad039[_0x52c8('0x1b')]=_0x12fa0e=>{if(!_0x58c4c5[_0x52c8('0x84')]){return;}_0x58c4c5[_0x52c8('0x3a')](_0x12fa0e[_0x52c8('0x114')],_0x12fa0e[_0x52c8('0x121')],_0x12fa0e[_0x52c8('0x46')],_0x12fa0e['movementY']);if(_0x58c4c5['_mouseDownStatus']&&_0x58c4c5[_0x52c8('0xcd')]){_0x58c4c5['_onMouseMoveCallback'](_0x12fa0e,_0x58c4c5['_onMouseSelectedObj']);}_0x12fa0e[_0x52c8('0x9e')]();};_0x1ad039[_0x52c8('0x7b')]=_0x2cbc64=>{_0x58c4c5[_0x52c8('0xe5')]=!![];_0x58c4c5[_0x52c8('0xbc')]=null;if(!_0x58c4c5['enableMouse']){return;}_0x58c4c5[_0x52c8('0x125')](_0x2cbc64['button'],_0x2cbc64['offsetX'],_0x2cbc64[_0x52c8('0x121')]);setTimeout(function(){if(_0x58c4c5[_0x52c8('0x101')]){_0x58c4c5[_0x52c8('0x101')](_0x2cbc64,_0x58c4c5['_onMouseSelectedObj']);}},0x64);_0x2cbc64['preventDefault']();};_0x1ad039['onmouseup']=_0x1a06b3=>{_0x58c4c5[_0x52c8('0xe5')]=![];if(!_0x58c4c5[_0x52c8('0x84')]){return;}_0x58c4c5['_onMouseUp'](_0x1a06b3['button'],_0x1a06b3[_0x52c8('0x114')],_0x1a06b3['offsetY']);if(_0x58c4c5['_onMouseUpCallback']){_0x58c4c5['_onMouseUpCallback'](_0x1a06b3,_0x58c4c5[_0x52c8('0xbc')]);}_0x1a06b3[_0x52c8('0x9e')]();};_0x1ad039['oncontextmenu']=_0x52a3c4=>{if(!_0x58c4c5['enableMouse']){return;}_0x58c4c5[_0x52c8('0x147')](_0x52a3c4[_0x52c8('0xca')],_0x52a3c4['offsetX'],_0x52a3c4['offsetY']);_0x52a3c4['preventDefault']();};if('onmousewheel'in _0x1ad039){_0x1ad039['onmousewheel']=_0x56edbb=>{if(!_0x58c4c5['enableMouse']){return;}_0x58c4c5['_onMouseWheel'](_0x56edbb[_0x52c8('0x122')],_0x56edbb['offsetX'],_0x56edbb[_0x52c8('0x121')]);_0x56edbb[_0x52c8('0x9e')]();};}else{_0x1ad039['addEventListener'](_0x52c8('0xfe'),_0x3ddc3c=>{if(!_0x58c4c5[_0x52c8('0x84')]){return;}_0x58c4c5[_0x52c8('0xaf')](_0x3ddc3c['detail']*-0x78,_0x3ddc3c[_0x52c8('0x114')],_0x3ddc3c[_0x52c8('0x121')]);_0x3ddc3c[_0x52c8('0x9e')]();},![]);}_0x1ad039['pressMouseButtons']=_0x28ec65=>{if(!_0x58c4c5[_0x52c8('0x84')]){return;}_0x58c4c5[_0x52c8('0x9a')](_0x28ec65[_0x52c8('0x11c')],_0x28ec65['offsetX'],_0x28ec65['offsetY']);};_0x1ad039[_0x52c8('0xdc')]=_0x3f2713=>{if(!_0x58c4c5['enableMouse']){return;}_0x58c4c5['_releaseMouseButtons'](_0x3f2713[_0x52c8('0x11c')],_0x3f2713['offsetX'],_0x3f2713['offsetY']);};_0x1ad039['onmouseenter']=_0x27eec6=>{if(!_0x58c4c5[_0x52c8('0x84')]){return;}var _0x3e38c6=new DataView(new ArrayBuffer(0x1));_0x3e38c6[_0x52c8('0x17')](0x0,MapVision[_0x52c8('0x53')]['MouseEnter']);_0x58c4c5[_0x52c8('0xa5')](_0x3e38c6[_0x52c8('0x168')]);_0x1ad039['pressMouseButtons'](_0x27eec6);};_0x1ad039['onmouseleave']=_0x33c961=>{if(!_0x58c4c5['enableMouse']){return;}var _0x363a86=new DataView(new ArrayBuffer(0x1));_0x363a86[_0x52c8('0x17')](0x0,MapVision['MessageType'][_0x52c8('0x1d')]);_0x58c4c5[_0x52c8('0xa5')](_0x363a86[_0x52c8('0x168')]);_0x1ad039['releaseMouseButtons'](_0x33c961);};};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x20')]=function(_0xa75c9){};MapVision['View3d']['prototype']['_unregisterEvents']=function(_0x248261){if(!_0x248261){return;}_0x248261['onmousemove']=_0x275954=>{_0x275954['preventDefault']();};_0x248261[_0x52c8('0x7b')]=_0x1797c1=>{_0x1797c1['preventDefault']();};_0x248261['onmouseup']=_0x1143bf=>{_0x1143bf['preventDefault']();};_0x248261['oncontextmenu']=_0xfa03ef=>{_0xfa03ef[_0x52c8('0x9e')]();};if(_0x52c8('0x131')in _0x248261){_0x248261['onmousewheel']=_0x5e8e4d=>{_0x5e8e4d['preventDefault']();};}else{_0x248261['addEventListener'](_0x52c8('0xfe'),_0x4688f2=>{_0x4688f2['preventDefault']();},![]);}_0x248261['pressMouseButtons']=_0x4aaf2e=>{};_0x248261['releaseMouseButtons']=_0xf180a2=>{};_0x248261['onmouseenter']=_0x1eb76f=>{};_0x248261['onmouseleave']=_0x473a8e=>{};_0x248261[_0x52c8('0x11d')]=_0xa5c752=>{};_0x248261['onkeyup']=_0x4d16e2=>{};_0x248261[_0x52c8('0x5')]=_0x1efeb3=>{};};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['_registerKeyboardEvents']=function(){let _0x2254c1=this;const _0x1416ac={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x243d63(_0x2c0925){if(_0x2c0925['keyCode']===_0x1416ac['Shift']&&_0x2c0925[_0x52c8('0x12f')]===_0x52c8('0x70'))return _0x1416ac['RightShift'];else if(_0x2c0925['keyCode']===_0x1416ac[_0x52c8('0x11a')]&&_0x2c0925['code']==='ControlRight')return _0x1416ac[_0x52c8('0x3f')];else if(_0x2c0925['keyCode']===_0x1416ac[_0x52c8('0x85')]&&_0x2c0925['code']===_0x52c8('0x8b'))return _0x1416ac['RightAlt'];else return _0x2c0925[_0x52c8('0x50')];};function _0x5adcdc(_0x12e45f){return!(_0x12e45f['keyCode']==0x1b||_0x12e45f['keyCode']==0x74||_0x12e45f['keyCode']==0xde||_0x12e45f['keyCode']==0xba||_0x12e45f[_0x52c8('0x50')]==0xbc||_0x12e45f[_0x52c8('0xff')]&&_0x12e45f[_0x52c8('0x50')]==0x52);};var _0x2969c2=document[_0x52c8('0xc7')]('iframe');var _0x1d8785=null;if(_0x2969c2&&_0x2969c2[_0x52c8('0x38')]>0x0){_0x1d8785=_0x2969c2[0x0];}else{_0x1d8785=document;}_0x1d8785[_0x52c8('0x11d')]=_0x3cf631=>{if(!_0x2254c1['enableKeyboard']){return;}if(_0x5adcdc(_0x3cf631)==![]){_0x3cf631['preventDefault']();return;}_0x2254c1[_0x52c8('0xa5')](new Uint8Array([MapVision[_0x52c8('0x53')][_0x52c8('0xf')],_0x243d63(_0x3cf631),_0x3cf631[_0x52c8('0x91')]])[_0x52c8('0x168')]);if(_0x3cf631['keyCode']===_0x1416ac[_0x52c8('0x69')]){_0x1d8785['onkeypress']({'charCode':_0x1416ac[_0x52c8('0x69')]});}};_0x1d8785['onkeyup']=_0x5c94f6=>{if(!_0x2254c1[_0x52c8('0x9')]){return;}if(_0x5adcdc(_0x5c94f6)==![]){_0x5c94f6['preventDefault']();return;}_0x2254c1['_sendInputData'](new Uint8Array([MapVision[_0x52c8('0x53')]['KeyUp'],_0x243d63(_0x5c94f6)])['buffer']);};_0x1d8785[_0x52c8('0x5')]=_0x3336ea=>{if(!_0x2254c1['enableKeyboard']){return;}if(_0x5adcdc(_0x3336ea)==![]){_0x3336ea[_0x52c8('0x9e')]();return;}let _0x1c023c=new DataView(new ArrayBuffer(0x3));_0x1c023c[_0x52c8('0x17')](0x0,MapVision[_0x52c8('0x53')]['KeyPress']);_0x1c023c['setUint16'](0x1,_0x3336ea[_0x52c8('0x39')],!![]);_0x2254c1['_sendInputData'](_0x1c023c['buffer']);};};MapVision[_0x52c8('0x120')][_0x52c8('0x10')][_0x52c8('0x99')]=function(_0x18dba8,_0x4c0e0c){let _0x134260=this;_0x134260[_0x52c8('0x12c')]=document[_0x52c8('0xc8')](_0x18dba8);_0x134260['_webRtcPlayerObj']=new webRtcPlayer({'peerConnectionOptions':_0x4c0e0c['peerConnectionOptions']});_0x134260['_webRtcPlayerHtmlElement'][_0x52c8('0xb2')][_0x52c8('0x67')]=_0x52c8('0x4b');let _0x3be70e=_0x134260[_0x52c8('0x12c')];_0x3be70e['appendChild'](_0x134260['_webRtcPlayerObj']['video']);_0x134260[_0x52c8('0xec')]['onWebRtcOffer']=function(_0x1020af){if(_0x134260['_webSocket']&&_0x134260[_0x52c8('0x14c')][_0x52c8('0xb5')]===MapVision['WS_OPEN_STATE']){let _0x5950f6=JSON['stringify'](_0x1020af);_0x134260['_webSocket'][_0x52c8('0x157')](_0x5950f6);}};_0x134260[_0x52c8('0xec')][_0x52c8('0x136')]=function(_0x598e86){if(_0x134260[_0x52c8('0x14c')]&&_0x134260['_webSocket'][_0x52c8('0xb5')]===MapVision['WS_OPEN_STATE']){console['log'](_0x52c8('0x7c')+JSON['stringify'](_0x598e86,undefined,0x4));_0x134260[_0x52c8('0x14c')]['send'](JSON['stringify']({'type':'iceCandidate','candidate':_0x598e86}));}};_0x134260[_0x52c8('0xec')][_0x52c8('0x19')]=function(){if(_0x134260['_webSocket']&&_0x134260[_0x52c8('0x14c')]['readyState']===MapVision[_0x52c8('0x2b')]){if(_0x134260['_webRtcPlayerObj']){_0x134260[_0x52c8('0xec')][_0x52c8('0x13a')][_0x52c8('0x1e')]=!![];setTimeout(function(){_0x134260['_requestInitialSettings']();_0x134260[_0x52c8('0xa3')]();_0x134260['_webRtcPlayerObj'][_0x52c8('0x13a')]['play']();},0x32);}}};_0x134260['_webRtcPlayerObj'][_0x52c8('0x14e')]=function(){if(_0x134260['_webSocket']&&_0x134260[_0x52c8('0x14c')]['readyState']===MapVision[_0x52c8('0x2b')]){if(_0x134260['_webRtcPlayerObj'][_0x52c8('0x13a')]&&_0x134260[_0x52c8('0xec')]['video'][_0x52c8('0x15d')]&&_0x134260['_webRtcPlayerObj'][_0x52c8('0x19')]){_0x134260[_0x52c8('0xec')][_0x52c8('0x19')]();}if(_0x134260['_registerCallback']){const _0x51906c={'code':0xc8,'msg':'websocket\x20connected'};_0x134260['_registerCallback'](_0x51906c);}_0x134260['_webRtcPlayerHtmlElement'][_0x52c8('0xb2')]['visibility']=_0x52c8('0x41');}};_0x134260['_webRtcPlayerObj']['onDataChannelMessage']=function(_0x3a6b46){var _0x26dc64=new Uint8Array(_0x3a6b46);var _0x499356=_0x26dc64[0x0];if(_0x499356===MapVision['ToClientMessageType']['QualityControlOwnership']){let _0x42c8fe=new TextDecoder(_0x52c8('0x93'))['decode'](_0x3a6b46[_0x52c8('0x1f')](0x1));console['log']('->\x20SS:\x20QualityControlOwnership:\x0a'+_0x42c8fe);}else if(_0x499356===MapVision[_0x52c8('0x14b')][_0x52c8('0xe3')]){let _0x249750=new TextDecoder(_0x52c8('0x93'))[_0x52c8('0x118')](_0x3a6b46['slice'](0x1));let _0x5e5131=JSON['parse'](_0x249750);if(_0x5e5131&&_0x5e5131[_0x52c8('0x117')]){_0x134260[_0x52c8('0xbc')]=_0x5e5131;}if(_0x134260[_0x52c8('0x16d')]&&(_0x134260['_command']===MapVision[_0x52c8('0x82')][_0x52c8('0x162')]||_0x134260[_0x52c8('0xe4')]===MapVision['CommandType'][_0x52c8('0x55')]||_0x5e5131&&_0x5e5131['onMouse'])){_0x134260[_0x52c8('0x16d')](_0x5e5131);}else if(_0x134260[_0x52c8('0xdd')]){_0x134260['_callback'](_0x5e5131);if(_0x134260['_command']===MapVision[_0x52c8('0x82')]['OverLayerStartEdit']||_0x134260['_command']===MapVision['CommandType'][_0x52c8('0x96')]||_0x134260['_command']===MapVision[_0x52c8('0x82')][_0x52c8('0xfb')]){}else{_0x134260[_0x52c8('0xdd')]=null;}}}else if(_0x499356===MapVision[_0x52c8('0x14b')][_0x52c8('0xb3')]){let _0x36b031=new TextDecoder('utf-16')['decode'](_0x3a6b46['slice'](0x1));console['log'](_0x52c8('0x109')+_0x36b031);}else if(_0x499356===MapVision['ToClientMessageType']['FreezeFrame']){let _0xf1a8e1=new TextDecoder('utf-16')['decode'](_0x3a6b46[_0x52c8('0x1f')](0x1));console['log'](_0x52c8('0xe')+_0xf1a8e1);}else if(_0x499356===MapVision['ToClientMessageType'][_0x52c8('0x72')]){let _0x5e4476=new TextDecoder('utf-16')[_0x52c8('0x118')](_0x3a6b46['slice'](0x1));console['log'](_0x52c8('0xa6')+_0x5e4476);}};_0x134260['_registerMouseEvents'](_0x3be70e);_0x134260[_0x52c8('0x20')](_0x3be70e);_0x134260['_registerKeyboardEvents'](_0x3be70e);_0x134260['_webRtcPlayerObj'][_0x52c8('0xf0')]();};MapVision['View3d']['prototype']['_sendInputData']=function(_0xe8865){if(this[_0x52c8('0xec')]){this['_webRtcPlayerObj'][_0x52c8('0x157')](_0xe8865);}else{console['log'](_0x52c8('0xd7'));}};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x11')]=function(_0x28460f,_0x4d3dee){let _0x4ebe83=JSON['stringify'](_0x4d3dee);let _0x1842fc=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x4ebe83[_0x52c8('0x38')]));let _0x2604aa=0x0;_0x1842fc[_0x52c8('0x17')](_0x2604aa,_0x28460f);_0x2604aa++;_0x1842fc[_0x52c8('0x6c')](_0x2604aa,_0x4ebe83['length'],!![]);_0x2604aa+=0x2;for(let _0x53b0d8=0x0;_0x53b0d8<_0x4ebe83[_0x52c8('0x38')];_0x53b0d8++){_0x1842fc['setUint16'](_0x2604aa,_0x4ebe83[_0x52c8('0xb1')](_0x53b0d8),!![]);_0x2604aa+=0x2;}this['_sendInputData'](_0x1842fc['buffer']);};MapVision['View3d'][_0x52c8('0x10')]['_emiUICommand']=function(_0x452aa6,_0x19970e){this['_command']=_0x452aa6;const _0x8fa810={'cmd':_0x452aa6,'data':_0x19970e};console[_0x52c8('0x4c')](JSON[_0x52c8('0xde')](_0x8fa810));this[_0x52c8('0x11')](MapVision['MessageType'][_0x52c8('0x158')],_0x8fa810);};MapVision['View3d']['prototype'][_0x52c8('0xb7')]=function(){this[_0x52c8('0xa5')](new Uint8Array([MapVision[_0x52c8('0x53')]['RequestInitialSettings']])[_0x52c8('0x168')]);};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0xa3')]=function(){this['_sendInputData'](new Uint8Array([MapVision['MessageType']['RequestQualityControl']])['buffer']);};MapVision[_0x52c8('0x120')]['prototype']['_onMouseMove']=function(_0x585a9e,_0x392a1a,_0x21c17b,_0x3321a){let _0xcdaf7=this;if(!_0xcdaf7[_0x52c8('0x14c')]){return;}let _0x1ffd97=_0xcdaf7[_0x52c8('0x8d')](_0x585a9e,_0x392a1a);let _0x3cc92d=_0xcdaf7[_0x52c8('0x61')](_0x21c17b,_0x3321a);var _0x37ff3e=new DataView(new ArrayBuffer(0x9));_0x37ff3e['setUint8'](0x0,MapVision['MessageType'][_0x52c8('0x123')]);_0x37ff3e['setUint16'](0x1,_0x1ffd97['x'],!![]);_0x37ff3e['setUint16'](0x3,_0x1ffd97['y'],!![]);_0x37ff3e[_0x52c8('0x12b')](0x5,_0x3cc92d['x'],!![]);_0x37ff3e['setInt16'](0x7,_0x3cc92d['y'],!![]);_0xcdaf7['_sendInputData'](_0x37ff3e['buffer']);};MapVision[_0x52c8('0x120')]['prototype']['_onMouseDown']=function(_0x3293ec,_0x32b6c9,_0xa9d55c){let _0x31c0c5=this;if(!_0x31c0c5['_webSocket']){return;}let _0x1e791c=_0x31c0c5['_normalizeAndQuantizeUnsigned'](_0x32b6c9,_0xa9d55c);var _0x2e111a=new DataView(new ArrayBuffer(0x6));_0x2e111a['setUint8'](0x0,MapVision['MessageType']['MouseDown']);_0x2e111a[_0x52c8('0x17')](0x1,_0x3293ec);_0x2e111a['setUint16'](0x2,_0x1e791c['x'],!![]);_0x2e111a[_0x52c8('0x6c')](0x4,_0x1e791c['y'],!![]);_0x31c0c5['_sendInputData'](_0x2e111a['buffer']);};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x147')]=function(_0x1d23db,_0x5525c1,_0x1e46eb){let _0x1f3608=this;if(!_0x1f3608[_0x52c8('0x14c')]){return;}let _0x300ae0=_0x1f3608[_0x52c8('0x8d')](_0x5525c1,_0x1e46eb);var _0x134bab=new DataView(new ArrayBuffer(0x6));_0x134bab['setUint8'](0x0,MapVision['MessageType']['MouseUp']);_0x134bab[_0x52c8('0x17')](0x1,_0x1d23db);_0x134bab['setUint16'](0x2,_0x300ae0['x'],!![]);_0x134bab['setUint16'](0x4,_0x300ae0['y'],!![]);_0x1f3608['_sendInputData'](_0x134bab[_0x52c8('0x168')]);};MapVision['View3d']['prototype'][_0x52c8('0xaf')]=function(_0x1041c5,_0x184ac7,_0x515f0f){let _0x1afc83=this;if(!_0x1afc83[_0x52c8('0x14c')]){return;}let _0x557b2a=_0x1afc83[_0x52c8('0x8d')](_0x184ac7,_0x515f0f);var _0x1fba7a=new DataView(new ArrayBuffer(0x7));_0x1fba7a[_0x52c8('0x17')](0x0,MapVision[_0x52c8('0x53')][_0x52c8('0x5c')]);_0x1fba7a[_0x52c8('0x12b')](0x1,_0x1041c5,!![]);_0x1fba7a[_0x52c8('0x6c')](0x3,_0x557b2a['x'],!![]);_0x1fba7a[_0x52c8('0x6c')](0x5,_0x557b2a['y'],!![]);_0x1afc83[_0x52c8('0xa5')](_0x1fba7a['buffer']);};MapVision['View3d'][_0x52c8('0x10')][_0x52c8('0x142')]=function(_0xd327ef,_0x2aa115,_0x4186e3){if(_0xd327ef&MapVision[_0x52c8('0x45')][_0x52c8('0x95')]){this['_onMouseUp'](MapVision['MouseButton'][_0x52c8('0x159')],_0x2aa115,_0x4186e3);}if(_0xd327ef&MapVision['MouseButtonsMask'][_0x52c8('0x21')]){this['_onMouseUp'](MapVision['MouseButton'][_0x52c8('0x21')],_0x2aa115,_0x4186e3);}if(_0xd327ef&MapVision['MouseButtonsMask'][_0x52c8('0xf9')]){this['_onMouseUp'](MapVision[_0x52c8('0x144')][_0x52c8('0xf9')],_0x2aa115,_0x4186e3);}if(_0xd327ef&MapVision[_0x52c8('0x45')]['FourthButton']){this[_0x52c8('0x147')](MapVision['MouseButton']['FourthButton'],_0x2aa115,_0x4186e3);}if(_0xd327ef&MapVision['MouseButtonsMask']['FifthButton']){this[_0x52c8('0x147')](MapVision['MouseButton'][_0x52c8('0xd')],_0x2aa115,_0x4186e3);}};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['_pressMouseButtons']=function(_0x2a8994,_0x3dc7ad,_0x479eb8){if(_0x2a8994&MapVision[_0x52c8('0x45')][_0x52c8('0x95')]){this[_0x52c8('0x125')](MapVision[_0x52c8('0x144')]['MainButton'],_0x3dc7ad,_0x479eb8);}if(_0x2a8994&MapVision[_0x52c8('0x45')]['SecondaryButton']){this['_onMouseDown'](MapVision[_0x52c8('0x144')][_0x52c8('0x21')],_0x3dc7ad,_0x479eb8);}if(_0x2a8994&MapVision[_0x52c8('0x45')][_0x52c8('0xf9')]){this[_0x52c8('0x125')](MapVision['MouseButton']['AuxiliaryButton'],_0x3dc7ad,_0x479eb8);}if(_0x2a8994&MapVision['MouseButtonsMask'][_0x52c8('0x15a')]){this['_onMouseDown'](MapVision['MouseButton'][_0x52c8('0x15a')],_0x3dc7ad,_0x479eb8);}if(_0x2a8994&MapVision[_0x52c8('0x45')][_0x52c8('0xd')]){this[_0x52c8('0x125')](MapVision['MouseButton']['FifthButton'],_0x3dc7ad,_0x479eb8);}};MapVision['View3d']['prototype']['_normalizeAndQuantizeUnsigned']=function(_0x578bf2,_0x5e811e){let _0x541fa8=this;if(!_0x541fa8['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x84d796=_0x541fa8['_webRtcPlayerHtmlElement'];let _0x1a992b=_0x541fa8[_0x52c8('0xec')]['video'];let _0x311ad5=_0x84d796['clientHeight']/_0x84d796['clientWidth'];let _0x56b598=_0x1a992b['videoHeight']/_0x1a992b[_0x52c8('0x32')];_0x56b598=_0x311ad5;if(_0x311ad5>_0x56b598){let _0x170863=_0x311ad5/_0x56b598;let _0x213b7b=_0x578bf2/_0x84d796[_0x52c8('0xc4')];let _0x151a34=_0x170863*(_0x5e811e/_0x84d796[_0x52c8('0xe8')]-0.5)+0.5;if(_0x213b7b<0x0||_0x213b7b>0x1||_0x151a34<0x0||_0x151a34>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x213b7b*0x10000,'y':_0x151a34*0x10000};}}else{let _0x3b0932=_0x56b598/_0x311ad5;let _0x56c2d3=_0x3b0932*(_0x578bf2/_0x84d796['clientWidth']-0.5)+0.5;let _0x1b0029=_0x5e811e/_0x84d796[_0x52c8('0xe8')];if(_0x56c2d3<0x0||_0x56c2d3>0x1||_0x1b0029<0x0||_0x1b0029>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x56c2d3*0x10000,'y':_0x1b0029*0x10000};}}};MapVision['View3d'][_0x52c8('0x10')]['_normalizeAndQuantizeSigned']=function(_0x544c39,_0x1e8309){let _0x20d47b=this;if(!_0x20d47b['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x520d6a=_0x20d47b[_0x52c8('0x12c')];let _0x535e4a=_0x20d47b[_0x52c8('0xec')]['video'];let _0x119f1d=_0x520d6a['clientHeight']/_0x520d6a['clientWidth'];let _0x4901a9=_0x535e4a[_0x52c8('0x11e')]/_0x535e4a['videoWidth'];_0x4901a9=_0x119f1d;if(_0x119f1d>_0x4901a9){let _0x3c6dab=_0x119f1d/_0x4901a9;let _0x44d544=_0x544c39/(0.5*_0x520d6a['clientWidth']);let _0x486510=_0x3c6dab*_0x1e8309/(0.5*_0x520d6a['clientHeight']);return{'x':_0x44d544*0x7fff,'y':_0x486510*0x7fff};}else{let _0x2c9341=_0x4901a9/_0x119f1d;let _0x405863=_0x2c9341*_0x544c39/(0.5*_0x520d6a[_0x52c8('0xc4')]);let _0x17fe9e=_0x1e8309/(0.5*_0x520d6a[_0x52c8('0xe8')]);return{'x':_0x405863*0x7fff,'y':_0x17fe9e*0x7fff};}};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x11f')]=function(_0x266128,_0x25e4f4){let _0x3db78e=this;if(!_0x3db78e['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x289e08=_0x3db78e['_webRtcPlayerHtmlElement'];let _0x5d6169=_0x3db78e['_webRtcPlayerObj']['video'];let _0x127602=_0x289e08[_0x52c8('0xe8')]/_0x289e08['clientWidth'];let _0x3c9f78=_0x5d6169['videoHeight']/_0x5d6169['videoWidth'];if(_0x127602>_0x3c9f78){let _0x4a4635=_0x127602/_0x3c9f78;let _0x10b130=_0x266128/0x10000;let _0x269bcc=(_0x25e4f4/0x10000-0.5)/_0x4a4635+0.5;return{'x':_0x10b130*_0x289e08[_0x52c8('0xc4')],'y':_0x269bcc*_0x289e08[_0x52c8('0xe8')]};}else{let _0x157ba6=(_0x266128/0x10000-0.5)/ratio+0.5;let _0x5f2bdc=_0x25e4f4/0x10000;return{'x':_0x157ba6*_0x289e08[_0x52c8('0xc4')],'y':_0x5f2bdc*_0x289e08[_0x52c8('0xe8')]};}};MapVision[_0x52c8('0x120')][_0x52c8('0x10')]['_onWebRtcAnswer']=function(_0x33bf68){this['_webRtcPlayerObj'][_0x52c8('0x48')](_0x33bf68);this[_0x52c8('0xec')]['onAggregatedStats']=_0xc5eaa0=>{};this[_0x52c8('0xec')][_0x52c8('0x148')](0x1*0x3e8);};MapVision[_0x52c8('0x120')]['prototype'][_0x52c8('0x4e')]=function(_0x5e0992){if(this['_webRtcPlayerObj'])this[_0x52c8('0xec')][_0x52c8('0xe1')](_0x5e0992);};MapVision['View3d'][_0x52c8('0x10')]['_httpRequest']=function(_0x57be73,_0x40c9e8,_0x379219){var _0x3104e7=null;if(window[_0x52c8('0xef')]){_0x3104e7=new XMLHttpRequest();}else if(window[_0x52c8('0x71')]){_0x3104e7=new ActiveXObject(_0x52c8('0x30'));}if(_0x3104e7==null){alert('XMLHttp');return;}var _0x416abd=(_0x57be73[_0x52c8('0x52')]||_0x52c8('0x108'))[_0x52c8('0xbf')]();var _0x33c0ac=_0x57be73['dataType']||'json';var _0x4f4381=_0x57be73['httpUrl']||'';var _0xafebd0=_0x57be73[_0x52c8('0x2c')]||!![];var _0x37e293=_0x57be73[_0x52c8('0xf2')]||[];var _0x28e0ab='';for(var _0x1a5657 in _0x37e293){_0x28e0ab+=_0x1a5657+'='+_0x37e293[_0x1a5657]+'&';}_0x28e0ab=_0x28e0ab==''?'':_0x28e0ab['substring'](0x0,_0x28e0ab['length']-0x1);console[_0x52c8('0x4c')](_0x28e0ab);_0x3104e7['onreadystatechange']=function(){if(_0x3104e7['readyState']==0x4&&_0x3104e7['status']==0xc8){var _0xd04723=JSON['parse'](_0x3104e7['responseText']);_0x40c9e8(_0xd04723);}else{_0x379219;}};if(_0x416abd=='GET'){_0x3104e7['open'](_0x52c8('0x108'),_0x4f4381,_0xafebd0);_0x3104e7['send'](null);}else if(_0x416abd=='POST'){_0x3104e7['open'](_0x52c8('0x57'),_0x4f4381,_0xafebd0);_0x3104e7['setRequestHeader']('Content-type',_0x52c8('0x139'));_0x3104e7['send'](_0x28e0ab);}};